{% extends '/landing/base.html.twig' %}

{# @var galleries \App\Domain\Cms\Model\Gallery[] #}

{% block title %}
    Galeries photo
{% endblock title %}

{% block description %}
    Retrouvez toutes les photos du club
{% endblock description %}

{% block meta %}
    <meta name="robots" content="noimageindex" />
{% endblock meta %}

{% block og %}
    <meta property="og:type" content="website" />
    <meta property="og:image" content="{{ absolute_url(asset('build/images/logo-archers-de-caen/logo-normal-v2.png')) }}" />
{% endblock og %}

{% block main %}
    <div class="galleries-container">
        {% for gallery in galleries %}
            <h2>{{ gallery.title }}</h2>

            <div class="carousels-container">
                <div class="carousels-prev">
                    <img src="{{ asset('build/images/symbole/down-arrow-grey.svg') }}" alt="Fleche vers la droite">
                </div>

                <div class="carousels">
                    <a class="element" href="{{ path('landing_gallery', { slug: gallery.slug }) }}" title="{{ gallery.title }}">
                        <main>
                            <img
                                src="{{ gallery.mainPhoto is defined and gallery.mainPhoto ? gallery.mainPhoto|imagine_filter('thumbnail') : asset('build/images/photo/cible.webp') }}"
                                alt="Galerie: {{ gallery.title }}"
                            >
                        </main>
                    </a>

                    {% for photo in gallery.photos|slice(0, 4) %}
                        {% if loop.last %}
                            <a class="element element-display-all" href="{{ path('landing_gallery', { slug: gallery.slug }) }}" title="{{ gallery.title }}">
                                <main>
                                    <img
                                        src="{{ photo.imageName is defined and photo.imageName ? photo.imageName|imagine_filter('thumbnail') : asset('build/images/photo/cible.webp') }}"
                                        alt="Galerie: {{ gallery.title }}"
                                    >
                                </main>

                                <div class="blur-effect"></div>

                                <span>
                                    Voir toutes<br>les photos
                                </span>
                            </a>
                        {% else %}
                            <a class="element" href="{{ path('landing_gallery', { slug: gallery.slug }) }}" title="{{ gallery.title }}">
                                <main>
                                    <img
                                        src="{{ photo.imageName is defined and photo.imageName ? photo.imageName|imagine_filter('thumbnail') : asset('build/images/photo/cible.webp') }}"
                                        alt="Galerie: {{ gallery.title }}"
                                    >
                                </main>
                            </a>
                        {% endif %}
                    {% endfor %}
                </div>

                <div class="carousels-next">
                    <img src="{{ asset('build/images/symbole/down-arrow-grey.svg') }}" alt="Fleche vers la droite">
                </div>
            </div>
        {% endfor %}
    </div>

    <div class="mt-3">
        {{ include('/shared/components/paginator.html.twig', { paginator }) }}
    </div>
{% endblock %}

